@import url(http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,900italic,900,700italic&subset=latin,cyrillic)

@import nib
@import bootstrap


@import './lib/animation-greed.css'













$item_width = 300px
$sidebar_width = 300px
$color_primary = #f5f5f5
$color_secondary = #fff
$color_link = #81c483
$anim-time = 0.5s

$serif = 'Playfair Display', serif
$sansserif = 'Martel Sans', Arial, sans-serif

$viewport_xs =   $item_width + $sidebar_width
$viewport_s =  $item_width * 2 + $sidebar_width
$viewport_m =  $item_width * 3 + $sidebar_width
$viewport_l =  $item_width * 4 + $sidebar_width
$viewport_xl =   $item_width * 5 + $sidebar_width
$viewport_xxl =  $item_width * 6 + $sidebar_width

@import url('http://fonts.googleapis.com/css?family=Playfair+Display+SC:400italic,700,900|Raleway:500|Martel+Sans:400,700')

@font-face 
  font-weight: normal
  font-style: normal
  font-family: 'codropsicons'
  src: url('../fonts/codropsicons/codropsicons.eot')
  src: url('../fonts/codropsicons/codropsicons.eot?#iefix') format('embedded-opentype'), url('../fonts/codropsicons/codropsicons.woff') format('woff'), url('../fonts/codropsicons/codropsicons.ttf') format('truetype'), url('../fonts/codropsicons/codropsicons.svg#codropsicons') format('svg')



.noscroll
  overflow hidden

.view-single .grid::after
  opacity 1

.grid 
  position relative
    
  &::after 
    content ''
    background rgba(202,202,202,.4)
    opacity 0
    position absolute
    pointer-events none
    top 0
    left 0
    width 100%
    height 100%
    transition opacity $anim-time



  &__item 
    padding 45px 55px 30px
    position relative
    color inherit
    background $color_secondary
    min-height $item_width
    cursor pointer
    text-align center
    display -webkit-box
    display -webkit-flex
    display -ms-flexbox
    display flex
    flex-direction column
    justify-content center

    &::before
      position absolute
      content ''
      top 0
      right 55px
      bottom 0
      left 55px
      border-bottom 1px solid rgba(74,74,74,0.075)


    *
      z-index 10


    &--loading 
      .loader::before
        transition transform 1s
        transition-timing-function cubic-bezier(.165,.84,.44,1)
        transform scale3d(1,1,1)

      .meta__avatar,
      .meta__date,
      .meta__reading-time
        transform scale3d(.5,.5,1)
        opacity 0

      .meta__avatar
        transition-delay .1s

      .meta__date
        transition-delay .17s

      .meta__reading-time
        transition-delay .24s
        

    .category 
      transition-delay 0s
    

    &--animate
      .title--preview
        transition-delay 0s
        opacity 0
        transform translate3d(0, -20px, 0)
    
      .loader 
        transition-delay .1s
        opacity 0
        transform translate3d(0, -30px, 0)
    
      .category
        transition-delay .15s
        opacity 0
        transform translate3d(0, -40px, 0)



    &:hover .meta--preview .meta__avatar,
    &:focus .meta--preview .meta__avatar
      filter none



.loader
  height 1px
  width 40%
  margin 1em auto
  position relative
  background rgba(0,0,0,.1)
  transition-delay .1s

  &::before
    content ''
    position absolute
    width 100%
    height 3px
    background #a4e7ad
    left 0
    top -1px
    transform scale3d(0,1,1)
    transform-origin 0% 50%


.title--preview
.loader
.category
  transition transform .2s, opacity .2s
  transition-timing-function cubic-bezier(.7,0,.3,1)

.title--preview
  transition-delay .15s

.scroll-wrap
  position absolute
  width 100%
  height 100%
  left 0
  top 0
  z-index 1
  overflow-y scroll
  -webkit-overflow-scrolling touch

.placeholder
  pointer-events none
  position absolute
  width calc(100% + 5px)
  height calc(100vh + 5px)
  z-index 100
  top 0
  left 0
  background $color_secondary
  transform-origin 0 0

  &.placeholder--trans-in
    transition transform $anim-time;
    transition-timing-function cubic-bezier(.165,.84,.44,1)

  &.placeholder--trans-out
    transition transform $anim-time




.category--full
.title--full
.meta--full .meta__avatar
.meta--full .meta__author
.meta--full .meta__date
.meta--full .meta__reading-time 
  opacity 0

.category--full
.title--full 
  transform translate3d(0, 40px, 0)

.category--full
  font-size 1.25em
  margin-bottom 20px
  color $color_link

.title--full
  font-size 3.25em

.meta--full
  font-size 1em
  margin 0 auto 2em
  max-width 1200px
  
  .meta__avatar,
  .meta__author,
  .meta__date,
  .meta__reading-time 
    transform scale3d(0.5,0.5,1)
    
  .meta__author 
    display block
    text-align center
    font-weight bold
    margin-bottom 20px

    &::before 
      content 'by '
      font-weight normal
  
  .meta__category 
    font-style italic
    float left
    margin 0 5px
    font-family $serif
  
    &::before 
      content 'in '
  
  .meta__avatar 
    margin 1em auto
  
  

.content
  position absolute
  top 0
  left 0
  width 100%
  pointer-events none
  height 0
  visibility hidden
  z-index 400
  overflow hidden

  &.content--show
    height 100vh
    pointer-events auto
    visibility visible

  &__item
    position absolute
    top 0
    width 100%
    overflow hidden
    height 0
    opacity 0
    padding 60px 60px 80px 60px
    pointer-events none
    font-size .85em
    
    p
      opacity 0
      max-width 1200px
      margin 1em auto
      text-align justify
    
      &:first-of-type 
        font-size 1.35em

    &.content__item--show
      height auto
      min-height 100vh
      opacity 1
      pointer-events auto
      transition opacity .6s
      
    &--show 
      .category--full
      .title--full
      .meta--full .meta__avatar
      .meta--full .meta__author
      .meta--full .meta__date
      .meta--full .meta__reading-time 
        opacity 1
        transform translate3d(0,0,0)
        transition transform 0.3s, opacity 0.3s
        transition-timing-function cubic-bezier(0.2,1,0.3,1)


      .category--full
      .title--full 
        transition-timing-function ease-out


      .title--full
        transition-delay .05s


      .meta--full 
        .meta__avatar
          transition-delay .2s


        .meta__date
          transition-delay .27s


        .meta__reading-time
          transition-delay .34s


      &.content__item p
        opacity 1
        transition opacity .5s .25s

/* close button (for content and sidebar) */
.close-button {
  position: absolute;
  z-index: 100;
}